# FlutterTech-Data-Analysis---SQL-Insights

**Overview**
This repository houses a collection of SQL scripts designed for comprehensive data analysis, focusing on sales transactions, employee performance, and customer behavior within a simulated business environment, potentially inspired by a platform like FlutterWave. These scripts are intended to help extract valuable insights from relational data.

**Database Schema**
The analysis is based on three primary tables:

**EMPLOYEES:** Stores information about employees, including their contact details, hire date, salary, and manager.

**CUSTOMERS:** Contains customer details such as name, contact information, city, state, registration date, and customer type.

**TRANSACTIONS:** Records sales transactions, linking to employees and customers, and including details like product name, quantity, unit price, total amount, and commission rate.

**Key Analyses Performed**
The SQL scripts in this repository perform various analytical queries, including:

Sales Overview: Retrieving transaction details, including employee and customer names, and sale dates.

Departmental Sales Performance: Aggregating total sales by department to identify top-performing teams.

Customer Type Revenue: Analyzing total revenue generated by different customer types.

**Employee Performance:**Identifying employees with high transaction counts and total sales.

**Product Performance:** Calculating average transaction amounts per product type.

**Employee Commissions:** Determining the total commission earned by employees, highlighting top earners.

**Customer Engagement:** Analyzing customer purchasing frequency and total spending over time.

**Sales Department Performance:** Detailed analysis of sales department employees, including total sales, transaction count, and average transaction amount, with a focus on high performers.

**Commission Rate Updates:** Demonstrating how to update commission rates based on employee sales performance.

**How to Use**
To run these SQL scripts and perform the analysis:

1. **Database Setup:**

Create a new database named FlutterTech_Analysis in your SQL environment (e.g., MySQL, PostgreSQL, SQL Server).

Use the use FlutterTech_Analysis; command to select the database.

2. **Table Creation:**

Execute the CREATE TABLE statements for EMPLOYEES, CUSTOMERS, and TRANSACTIONS to set up the database schema.

3. **Data Insertion:**

(Note: The provided SQL file does not include INSERT statements. You will need to populate these tables with sample data for the queries to return results.)

4. **Run Analysis Queries:**

Execute the SELECT and UPDATE statements to perform the desired data analysis and manipulation.

**Example Queries (from the provided SQL file)**
-- Create Database
create database FlutterTech_Analysis;

-- Use Database
use FlutterTech_Analysis;

-- Create Employees Table
CREATE TABLE EMPLOYEES (
    employee_id INT PRIMARY KEY,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    email VARCHAR(50),
    phone_number VARCHAR(30),
    hire_date DATE,
    salary INT NOT NULL,
    manager_id INT,
    FOREIGN KEY (manager_id) REFERENCES EMPLOYEES(employee_id)
);

-- Select all employees
select * from employees;

-- Create Customers Table
create table CUSTOMERS(
customer_id int,
customer_name varchar(100),
email varchar(50),
phone int,
city varchar(100),
state varchar(100),
registration_date date,
customer_type varchar(50),
primary key(customer_id)
);

-- Select all customers
select * from customers;

-- Create Transactions Table
create table transactions(
transaction_id int Primary key,
employee_id int,
customer_id int,
sale_date date,
product_name varchar(100),
quantity int,
unit_price decimal(8,2),
total_amount decimal(50,4),
commission_rate decimal(10,2),
foreign key(employee_id) references employees(employee_id),
foreign key(customer_id) references customers(customer_id)
);

-- Select all transactions
select * from transactions;

-- Get employee name, customer name, and sale date for all transactions
Select 
concat(EMPLOYEES.first_name, ' ', EMPLOYEES.last_name) AS EMPLOYEE_NAME,
CUSTOMERS.customer_name,
transactions.sale_date
from transactions
JOIN EMPLOYEES on employees.employee_id = transactions.employee_id
JOIN CUSTOMERS on customers.customer_id= transactions.customer_id
order by sale_date DESC;

-- Calculate total sales by department
Select 
employees.department, 
SUM(transactions.total_amount) AS total_sales
from employees
JOIN transactions on transactions.employee_id= employees.employee_id
GROUP BY employees.department
order by total_sales DESC;

-- Calculate total revenue by customer type
SELECT 
    customers.customer_type,
    SUM(transactions.total_amount) AS total_revenue
FROM 
    Transactions
JOIN CUSTOMERS ON transactions.customer_id = customers.customer_id
GROUP BY 
customers.customer_type
ORDER BY 
    total_revenue DESC;

-- Find employees with more than 2 transactions
SELECT 
    CONCAT(EMPLOYEES.first_name, ' ', EMPLOYEES.last_name) AS employee_name,
    COUNT(transactions.transaction_id) AS transaction_count,
    SUM(transactions.total_amount) AS total_sales
FROM 
    transactions 
JOIN EMPLOYEES  ON transactions.employee_id = employees.employee_id
GROUP BY 
    employees.employee_id
having
    COUNT(transactions.transaction_id) > 2;

-- Calculate total commission for top 3 employees
SELECT 
CONCAT(employees.first_name, ' ', employees.last_name) AS employee_name,
SUM(transactions.total_amount * transactions.commission_rate / 100) AS total_commission
FROM 
    transactions
JOIN EMPLOYEES  ON transactions.employee_id = EMPLOYEES.employee_id
GROUP BY 
    EMPLOYEES.employee_id
ORDER BY 
    total_commission DESC
LIMIT 3;

-- Find customers with purchases in more than one unique month
SELECT 
customers.customer_name,
COUNT(DISTINCT MONTH(transactions.sale_date)) AS unique_months,
SUM(transactions.total_amount) AS total_spent
FROM transactions
JOIN CUSTOMERS ON transactions.customer_id = CUSTOMERS.customer_id
GROUP BY 
    CUSTOMERS.customer_id
HAVING 
    unique_months > 1;

-- Update commission rate for employees with total sales > 400000
UPDATE transactions
SET commission_rate = 9
WHERE employee_id 
IN (
SELECT employee_id
FROM transactions
GROUP BY employee_id
HAVING SUM(total_amount) > 400000
);
